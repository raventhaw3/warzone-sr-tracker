<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Warzone Ranked Tracker</title>

<!-- Libraries -->
<script src="https://cdn.jsdelivr.net/npm/countup.js@2.6.2/dist/countUp.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tsparticles"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<!-- Firebase core -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
/* ... your existing CSS here ... (unchanged) ... */
body {
  background: #000;
  color: #0ff;
  font-family: Arial, sans-serif;
  margin: 0;
  text-align: center;
  text-shadow: 0 0 5px #0ff, 0 0 10px #0ff;
}
#tsparticles { position: fixed; top:0; left:0; width:100%; height:100%; z-index:-1; opacity:0.3; }
/* ... rest of your CSS ... */
</style>
</head>
<body>

<div id="tsparticles"></div>
<h1>Warzone Ranked Tracker</h1>

<!-- Authentication -->
<form id="authForm">
  <input type="email" id="email" placeholder="Email" required />
  <input type="password" id="password" placeholder="Password" required />
  <button type="submit" id="loginBtn">Login / Register</button>
</form>

<form id="profileForm" style="display:none;">
  <input id="gamertag" placeholder="Gamertag" />
  <input id="sr" type="number" placeholder="Current SR" />
  <input id="wins" type="number" placeholder="Wins" />
  <input id="matches" type="number" placeholder="Matches" />
  <input id="kills" type="number" placeholder="Kills" />
  <input id="deaths" type="number" placeholder="Deaths" />
  <button type="submit">Save Profile</button>
  <button type="button" id="resetBtn">Reset</button>
</form>

<h2>Add Match</h2>
<form id="addMatchForm" style="display:none;">
  <input id="srGain" type="number" placeholder="SR Gained" />
  <input id="newKills" type="number" placeholder="Kills" />
  <input id="newDeaths" type="number" placeholder="Deaths" />
  <select id="newWin">
    <option value="yes">Win</option>
    <option value="no">Loss</option>
  </select>
  <button type="submit">Add Match</button>
</form>

<div class="stats" style="display:none;">
  <div class="stat-card">SR: <span id="srCounter">0</span></div>
  <div class="stat-card">K/D: <span id="kdCounter">0</span></div>
  <div class="stat-card">Win Rate: <span id="winRateCounter">0%</span></div>
</div>

<div class="rank-bar-container" style="display:none;">
  <div id="rankProgressBar"></div>
</div>

<div class="rank-overlay" style="display:none;">
  <span id="currentRank">Bronze 1</span>
  <span id="srLeft">1000 SR to next rank</span>
  <span id="nextRank">Bronze 2</span>
</div>

<div id="rankUpFlash">RANK UP!</div>

<script>
// --- Firebase Config ---
// Replace apiKey with the API key from your **Web App** in Firebase
const firebaseConfig = {
  apiKey: "YOUR_NEW_WEB_API_KEY",
  authDomain: "warzonesrtracker.firebaseapp.com",
  projectId: "warzonesrtracker",
  storageBucket: "warzonesrtracker.appspot.com",
  messagingSenderId: "1025872094731",
  appId: "1:1025872094731:web:d119fc41d72fe6192fc90e"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const auth = firebase.auth();

// --- Particles ---
tsParticles.load("tsparticles", {
  fpsLimit:60,
  background:{color:"#000"},
  particles:{
    number:{value:50},
    color:{value:["#0ff","#0f0","#ffa500","#f0f","#ff0"]},
    shape:{type:"circle"},
    opacity:{value:0.5, random:{enable:true, minimumValue:0.3}},
    size:{value:3, random:{enable:true, minimumValue:1.5}},
    move:{enable:true, speed:0.8, random:true, outModes:{default:"out"}},
    links:{enable:true, distance:120, color:"#0ff", opacity:0.1, width:1}
  },
  interactivity:{
    events:{onHover:{enable:true, mode:"grab"}, onClick:{enable:true, mode:"push"}},
    modes:{grab:{distance:150, links:{opacity:0.3}}, push:{quantity:4}}
  },
  detectRetina:true
});

// --- Ranks, UI, Auth, Firestore code ---
// Keep all your existing JavaScript logic here exactly as you had it
// No changes needed here except using the new firebaseConfig
</script>
</body>
</html>
